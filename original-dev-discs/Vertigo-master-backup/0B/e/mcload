		TTL	mcload		; Loading machine code****************************************		EXEC	execute********************************************************************************					; Use SHADOW <ON/OFF/IN/OUT>SHADOW		MACRO			; switches main 20k bank in & out					; of memory		LDA	#@1+@2		STA	accreg		ENDM********************************************************************************LOAD		MACRO			; LOAD <string_location>					; ( Does OSCLI <string> )		LDX	#>@1		LDY	#<@1		JSR	oscli		ENDM********************************************************************************RUN		MACRO			; RUN <string_location>					; ( Does OSCLI <string> )		LDX	#>@1		LDY	#<@1		JMP	oscli		ENDM********************************************************************************CHANGE		MACRO		LDA	#19		JSR	oswrch		LDA	#@1		JSR	oswrch		LDA	#@2		JSR	oswrch		LDA	#0		JSR	oswrch		JSR	oswrch		JSR	oswrch		ENDM********************************************************************************OFF		=	0ON		=	1+2OUT		=	0IN		=	4****************************************oswrch		EQU	&FFEEosbyte		EQU	&FFF4oscli		EQU	&FFF7romsel		EQU	&FE30romevn		EQU	&F4accreg		EQU	&FE34********************************************************************************workspace	EQU	&70********************************************************************************		ORG	&400execute	LDA	#229		LDX	#1		LDY	#0		JSR	osbyte		LDA	#22		JSR	oswrch		LDA	#129		JSR	oswrch		LDA	#23		JSR	oswrch		LDA	#0		JSR	oswrch		LDA	#10		JSR	oswrch		LDA	#32		JSR	oswrch		LDA	#0		JSR	oswrch		JSR	oswrch		JSR	oswrch		JSR	oswrch		JSR	oswrch		JSR	oswrch		CHANGE	1,0		CHANGE	2,0		CHANGE	3,0		SHADOW	ON,IN		LOAD	title_page		SHADOW	ON,OUT		CHANGE	1,1		CHANGE	2,3		CHANGE	3,7		LOAD	bank4  				LOAD	bank5*		STZ	workspace+1*		STZ	workspace+2**		LDA	#20*		STA	workspace**d_loop		DEC	workspace+2*		BNE	d_loop**		DEC	workspace+1*		BNE	d_loop**		DEC	workspace*		BNE	d_loop		LOAD	title_page		SHADOW	OFF,OUT		SHADOW	OFF,IN		LOAD	panel1		LDA	#>&4B80		STA	workspace		LDA	#<&4B80		STA	workspace+1		LDY	#0cls_loop1	LDA	#0cls_loop2	STA	(workspace),Y		INY		BNE	cls_loop2		INC	workspace+1		LDA	workspace+1		CMP	#&65		BLT	cls_loop1		LOAD	panel2		SHADOW	ON,OUT		RUN	main_game********************************************************************************title_page	STR	"LOAD title 3000"bank4		STR	"SRLOAD bank4 8000 4 Q"bank5		STR	"SRLOAD bank5 8000 5 Q"panel1		STR	"LOAD panel1 3000"panel2		STR	"LOAD panel2 6480"main_game	STR	"RUN mcode"********************************************************************************